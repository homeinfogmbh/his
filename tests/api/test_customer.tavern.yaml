test_name: Customer API

stages:
  - name: Login (Misc.)
    request:
      url: https://his.homeinfo.de/session
      method: POST
      headers:
        content-type: application/json
      json:
        account: test
        passwd: jeey7OoFei3Ahsha
    response:
      status_code: 200
      save:
        body:
          session: token

  - name: Get customer  (Misc.)
    request:
      url: https://his.homeinfo.de/account/!?session={session}
      method: GET
    response:
      status_code: 200
      save:
        body:
          customer: customer

  - name: List customers
    request:
      url: https://his.homeinfo.de/customer?session={session}
      method: GET
    response:
      status_code: 403

  - name: Get customer (implicit)
    request:
      url: https://his.homeinfo.de/customer/!?session={session}
      method: GET
    response:
      status_code: 200

  - name: Get customer (explicit)
    request:
      url: https://his.homeinfo.de/customer/{customer}?session={session}
      method: GET
    response:
      status_code: 200

  - name: Get customer logo
    request:
      url: https://his.homeinfo.de/customer-logo?session={session}
      method: GET
    response:
      status_code: 200